<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–û—Ü–µ–Ω–∫–∞ –¥–Ω—è</title>
  <style>
    body {
      font-family: sans-serif;
      background: linear-gradient(to bottom right, #c471f5, #fa71cd);
      color: white;
      text-align: center;
      padding: 30px;
    }
    h1 {
      font-size: 24px;
    }
    .rating-btn {
      margin: 10px;
      padding: 10px 20px;
      border-radius: 10px;
      border: 2px solid white;
      cursor: pointer;
      display: inline-block;
    }
    .selected {
      background-color: white;
      color: #c471f5;
    }
    textarea {
      width: 90%;
      margin: 10px 0;
      padding: 10px;
      border-radius: 10px;
      border: none;
    }
    button {
      padding: 12px 24px;
      font-size: 16px;
      border: none;
      background-color: white;
      color: #c471f5;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>üìä –ö–∞–∫ –ø—Ä–æ—à—ë–ª —Ç–≤–æ–π –¥–µ–Ω—å?</h1>

  <div id="ratings">
    <div class="rating-btn" data-value="–û—Ç–ª–∏—á–Ω—ã–π">üü¢ –û—Ç–ª–∏—á–Ω—ã–π</div>
    <div class="rating-btn" data-value="–•–æ—Ä–æ—à–∏–π">üü° –•–æ—Ä–æ—à–∏–π</div>
    <div class="rating-btn" data-value="–ù–æ—Ä–º–∞–ª—å–Ω—ã–π">‚ö™Ô∏è –ù–æ—Ä–º–∞–ª—å–Ω—ã–π</div>
    <div class="rating-btn" data-value="–ü–ª–æ—Ö–æ–π">üî¥ –ü–ª–æ—Ö–æ–π</div>
    <div class="rating-btn" data-value="–£–∂–∞—Å–Ω—ã–π">‚ö´Ô∏è –£–∂–∞—Å–Ω—ã–π</div>
  </div>

  <textarea id="good" placeholder="–ß—Ç–æ –±—ã–ª–æ —Ö–æ—Ä–æ—à–æ?"></textarea>
  <textarea id="bad" placeholder="–ß—Ç–æ –±—ã–ª–æ –ø–ª–æ—Ö–æ?"></textarea>
  <textarea id="improve" placeholder="–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?"></textarea>

  <br />
  <button onclick="sendData()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

  <script>
    let selectedRating = '';
    const buttons = document.querySelectorAll('.rating-btn');
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        selectedRating = btn.dataset.value;
      });
    });

    function sendData() {
      const payload = {
        tg_id: 'test_user',
        rating: selectedRating,
        good: document.getElementById('good').value,
        bad: document.getElementById('bad').value,
        improve: document.getElementById('improve').value
      };

      fetch('https://script.google.com/macros/s/AKfycbzheFnauSlGKZGAEGX2_jAsF_hWGUDEA-MIETU1QakWHVAjFy1S-oSgRVlTqAl5qeoZLw/exec', {
        method: 'POST',
        mode: 'no-cors',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      });

      alert('‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—É.');
    }
  </script>

</body>
</html>
